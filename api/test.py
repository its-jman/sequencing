import timeit
import re

record_valid_re = re.compile(r"^M[^*]+\*$")

record = """MAPRQNPVALGGRPPVEPGDTTLEDGRNSAFDSLSIFEDTQEDALIELSSVDSNEWVAPR
RTLQHFPEDSTGPRVQRYQQGYSLLDVDDIVMVPPNFHDSREATTSNGAPMQRSTSPLLS
LFTETSELEGYGDAGSSNLGPSTYPEPEERCYCGSLPASDMRCYFCYPCGHVFCDRCWGR
SPPHVRKRVQGGIPHEKTDPRLAKIIEQTLEVELDEKQQSWMHLKDENSSWFGTMRDDDD
DMVFHDHGRFADLMAEMSARKRQVRYPGLVSFVGQTGAGKSTVVKLLIELQSISHPETRV
PVVGSATNQELPTSGDVHLYSDPVSWATETPILYADCEGLDGGEREPLGVKIRKVGRRIA
NHAVPDHFEIKARHNTTTRDLLWATTEKTKSREYIVRNLYPRLLYTFSDTIVFVTKNPRV
VENVIDQLIDWATAALEKSSNQPVLPHAIIVLNAAENSTDPRLWDIDESTDHLMESMNEA
IMRNHNLRAIERLYEEVKIACRKSREAKHKLRMLLNSDELQPYLQYAFDHFSRDLEMPFD
FVQASFANSPIPSDFGGNILKLAINILDVWSDCLDGPAIFRELSYIIASATMLDSARRKT
LGPAESVFREYLDHFDDALDDFCDRHWPCEYVSAQGRCVNVRSGHQAKGHQLRSGRVIAI
ADYESSFSADGFRTTFRSMIFANLDALLRKLGDATFNAANRELEEAAAIHRDLVLMQFFH
HLGGPSKFISHTVCYTCLVEPPEHLLPCGHVLCTPCIKAFGVNRVKNVYEMVACPMHRDR
TKGQFPEFWSISIKPHGAGTRILSLDGGGVRGIVELTILQQIEKALGQGLYIQDFFDLIV
GTSTGGIIALGLGAHGLSVQDSIYNFRRLCKKAFTRRKGAGIPVLERIITASNHSKFETK
PLEDALRSIYGDTKLFGGSRGNMEEPLCLRRLTKVAVTTTTTAASVVVLANYNRHGSTEN
QSYRFYRSEKPESEMKVWESARATSAAPRIFKPFFHNASGQEYQDGAIYHNNPIDVAYRE
QKLIWPDMADSHPDIVLSIGTGYNPNSQTRDTHLSRPGSRGMISYVMGLAKIAMDHIHSS
LDSERTWRVFLERTHPPSRFLDRYVRANLALDNDPPSLDNVEMIDTLSEMTRSRFTKDIS
FIQSISDRLVASSFYFEQSSSAMGADNGDGTFTINGHILSRFPPGSSQIHSLGEAFHRRS
RNIFNRGSGGHQPYFVVRERRREREGKLLVISEDVIQSMITHGKFSMRKIQLRVAERMAE
TEICLCLDGDRAQPTLYPISGFPKCMLEADMTCSTGQEQQTQEPPFDLLQAQPKQTLELT
SRPLETSSQPEGVPGSFPEGTPVSRSAASLSAPPIFSSLTTQPYIPPPNLFDQPLVYRQA
SARGQEPVRRSLHRQSQPDLSRPVEPPIPEQPGPILRPSSEGPSPDPLQVDMGSRNEPEP
GSRPPNPVQASSGPPDPAGSADLFGNLRALLREELQGHARDAAERQNVFETAIRQDFERF
QREIQRQMHNQNQHHIEHRQQDVHMSGGNDCPPYEQENDEFYVREIKRHRFSRDQRQPSV
RGGSNGFRQPSERQRMPPPLDDNTSGDVHLYSDPVSWATETPILYADCEGLDGGEREPLGVKIRKVGRRIA
NHAVPDHFEIKARHNTTTRDLLWATTEKTKSREYIVRNLYPRLLYTFSDTIVFVTKNPRV
VENVIDQLIDWATAALEKSSNQPVLPHAIIVLNAAENSTDPRLWDIDESTDHLMESMNEA
IMRNHNLRAIERLYEEVKIACRKSREAKHKLRMLLNSDELQPYLQYAFDHFSRDLEMPFD
FVQASFANSPIPSDFGGNILKLAINILDVWSDCLDGPAIFRELSYIIASATMLDSARRKT
LGPAESVFREYLDHFDDALDDFCDRHWPCEYVSAQGRCVNVRSGHQAKGHQLRSGRVIAI
ADYESSFSADGFRTTFRSMIFANLDALLRKLGDATFNAANRELEEAAAIHRDLVLMQFFH
HLGGPSKFISHTVCYTCLVEPPEHLLPCGHVLCTPCIKAFGVNRVKNVYEMVACPMHRDR
TKGQFPEFWSISIKPHGAGTRILSLDGGGVRGIVELTILQQIEKALGQGLYIQDFFDLIV
GTSTGGIIALGLGAHGLSVQDSIYNFRRLCKKAFTRRKGAGIPVLERIITASNHSKFETK
PLEDALRSIYGDTKLFGGSRGNMEEPLCLRRLTKVAVTTTTTAASVVVLANYNRHGSTEN
QSYRFYRSEKPESEMKVWESARATSAAPRIFKPFFHNASGQEYQDGAIYHNNPIDVAYRE
QKLIWPDMADSHPDIVLSIGTGYNPNSQTRDTHLSRPGSRGMISYVMGLAKIAMDHIHSS
LDSERTWRVFLERTHPPSRFLDRYVRANLALDNDPPSLDNVEMIDTLSEMTRSRFTKDIS
FIQSISDRLVASSFYFEQSSSAMGADNGDGTFTINGHILSRFPPGSSQIHSLGEAFHRRS
RNIFNRGSGGHQPYFVVRERRREREGKLLVISEDVIQSMITHGKFSMRKIQLRVAERMAE
TEICLCLDGDRAQPTLYPISGFPKCMLEADMTCSTGQEQQTQEPPFDLLQAQPKQTLELT
SRPLETSSQPEGVPGSFPEGTPVSRSAASLSAPPIFSSLTTQPYIPPPNLFDQPLVYRQA
SARGQEPVRRSLHRQSQPDLSRPVEPPIPEQPGPILRPSSEGPSPDPLQVDMGSRNEPEP
GSRPPNPVQASSGPPDPAGSADLFGNLRALLREELQGHARDAAERQNVFETAIRQDFERF
QREIQRQMHNQNQHHIEHRQQDVHMSGGNDCPPYEQENDEFYVREIKRHRFSRDQRQPSV
RGGSNGFRQPSERQRMPPPLDDNTSGDVHLYSDPVSWATETPILYADCEGLDGGEREPLGVKIRKVGRRIA
NHAVPDHFEIKARHNTTTRDLLWATTEKTKSREYIVRNLYPRLLYTFSDTIVFVTKNPRV
VENVIDQLIDWATAALEKSSNQPVLPHAIIVLNAAENSTDPRLWDIDESTDHLMESMNEA
IMRNHNLRAIERLYEEVKIACRKSREAKHKLRMLLNSDELQPYLQYAFDHFSRDLEMPFD
FVQASFANSPIPSDFGGNILKLAINILDVWSDCLDGPAIFRELSYIIASATMLDSARRKT
LGPAESVFREYLDHFDDALDDFCDRHWPCEYVSAQGRCVNVRSGHQAKGHQLRSGRVIAI
ADYESSFSADGFRTTFRSMIFANLDALLRKLGDATFNAANRELEEAAAIHRDLVLMQFFH
HLGGPSKFISHTVCYTCLVEPPEHLLPCGHVLCTPCIKAFGVNRVKNVYEMVACPMHRDR
TKGQFPEFWSISIKPHGAGTRILSLDGGGVRGIVELTILQQIEKALGQGLYIQDFFDLIV
GTSTGGIIALGLGAHGLSVQDSIYNFRRLCKKAFTRRKGAGIPVLERIITASNHSKFETK
PLEDALRSIYGDTKLFGGSRGNMEEPLCLRRLTKVAVTTTTTAASVVVLANYNRHGSTEN
QSYRFYRSEKPESEMKVWESARATSAAPRIFKPFFHNASGQEYQDGAIYHNNPIDVAYRE
QKLIWPDMADSHPDIVLSIGTGYNPNSQTRDTHLSRPGSRGMISYVMGLAKIAMDHIHSS
LDSERTWRVFLERTHPPSRFLDRYVRANLALDNDPPSLDNVEMIDTLSEMTRSRFTKDIS
FIQSISDRLVASSFYFEQSSSAMGADNGDGTFTINGHILSRFPPGSSQIHSLGEAFHRRS
RNIFNRGSGGHQPYFVVRERRREREGKLLVISEDVIQSMITHGKFSMRKIQLRVAERMAE
TEICLCLDGDRAQPTLYPISGFPKCMLEADMTCSTGQEQQTQEPPFDLLQAQPKQTLELT
SRPLETSSQPEGVPGSFPEGTPVSRSAASLSAPPIFSSLTTQPYIPPPNLFDQPLVYRQA
SARGQEPVRRSLHRQSQPDLSRPVEPPIPEQPGPILRPSSEGPSPDPLQVDMGSRNEPEP
GSRPPNPVQASSGPPDPAGSADLFGNLRALLREELQGHARDAAERQNVFETAIRQDFERF
QREIQRQMHNQNQHHIEHRQQDVHMSGGNDCPPYEQENDEFYVREIKRHRFSRDQRQPSV
RGGSNGFRQPSERQRMPPPLDDN*"""


def re_match():
    if record_valid_re.fullmatch(record):
        pass


out = False


def basic_match():
    global out
    if not record or record[0] != "M" or record[-1] != "*" or "*" in record[1:-1]:
        out = True


print("REGEX", timeit.timeit(re_match, number=100000))
print("BASIC", timeit.timeit(basic_match, number=100000))

print(out)
